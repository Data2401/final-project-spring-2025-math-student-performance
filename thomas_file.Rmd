---
title: "Exploring Potential Influencers of Math Student Performance"
author: "Lauren Duvall, Shikyna William, Thomas Linden"
date: "`r Sys.Date()`"
lang: en
output: 
  html_document:
    theme: paper
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
suppressMessages(library(dplyr))    # Data manipulation
suppressMessages(library(ggplot2))  # Plotting
suppressMessages(library(plotly))  # Plotting
suppressMessages(library(readr))    # Reading the dataset
suppressMessages(library(knitr))    # For clean tables
```

[Kaggle Link](https://www.kaggle.com/datasets/adilshamim8/math-students/data)

## ðŸ“˜ Introduction

This project dives deep into a dataset from the [UCI Machine Learning Repository](https://archive.ics.uci.edu/dataset/320/student+performance), which contains data on student performance in a secondary school math program. The dataset features academic, personal, and social aspects of a student's life.

ðŸŽ¯ **Objective**:\
Our goal is to determine factors that have the most significant impact on student performance in the math program. In addition, we hope to discover factors which may seem influential based on intuition but prove otherwise after analyzing the data.

ðŸ“‚ **Factor Categories Analyzed**:

- School & Demographics
- Family Background
- Academic Support & Study Habits
- Activities & Social Life
- Health & Lifestyle
- Overall Academic Performance

___

## Load Packages
```{r}
library(dplyr)
library(plotly)
```

We utilized the following libraries:

- **dplyr** for data manipulation.
- **ggplot2** for creating plots.
- **plotly** to add interactivity to the plots.
___

## Data Cleaning
```{r}
raw <- read.csv("Math-Students.csv")
#Rename cols, convert factors for summary, transmute to drop old columns
formatted <- raw %>% transmute(
  school = as.factor(school),
  sex = as.factor(sex),
  age = age,
  address = as.factor(address),
  fam_size = as.factor(famsize),
  parental_stat = as.factor(Pstatus),
  mom_edu = factor(Medu, levels = 0:4, ordered = TRUE),
  dad_edu = factor(Fedu, levels = 0:4, ordered = TRUE),
  mom_job = as.factor(Mjob),
  dad_job = as.factor(Fjob),
  attend_reason = as.factor(reason),
  guardian = as.factor(guardian),
  travel_time = traveltime,
  study_time = studytime,
  failures = failures,
  school_support = as.factor(schoolsup),
  family_support = as.factor(famsup),
  extra_paid_classes = as.factor(paid),
  activities = as.factor(activities),
  nursery_school = as.factor(nursery),
  pursue_higher_edu = as.factor(higher),
  internet_use = as.factor(internet),
  romantic = as.factor(romantic),
  family_relationship = factor(famrel, levels = 1:5, ordered = TRUE),
  free_time = factor(freetime, levels = 1:5, ordered = TRUE),
  go_out_w_friends = factor(goout, levels = 1:5, ordered = TRUE),
  workday_alcohol = factor(Dalc, levels = 1:5, ordered = TRUE),
  weekend_alcohol = factor(Walc, levels = 1:5, ordered = TRUE),
  health = factor(health, levels = 1:5, ordered = TRUE),
  absences = absences,
  period1_grade = G1,
  period2_grade = G2,
  period3_grade = G3
)
summary(formatted)
sum(is.na(formatted))
```

Character columns have been converted to factors, factors with levels have been ordered.

There are no missing values in the dataset.

___

## Exploratory Data Analysis
```{r}
#Make correlation table
cor_df <- formatted %>% select(where(is.numeric)) %>% cor(use = "complete.obs") %>% 
  as.table() %>% as.data.frame()

colnames(cor_df) <- c("Var1", "Var2", "Correlation")

cor_df %>% ggplot(aes(Var1, Var2, fill = Correlation)) + 
  geom_tile(color = 'white') + 
  scale_fill_gradient2(low = '#067bc2', mid = 'white', high = '#fe4a49', 
                       midpoint = 0, limit = c(-1,1), name = 'Correlation') +
  labs(title = "Correlation Heatmap", x = '', y = '') + 
  theme_minimal() + 
  coord_fixed() + 
  theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1))
```

**Intuitive relationships:** 

- Grades from all three periods are strongly positively correlated.
- Grades are negatively correlated with the number of failures.

**Some relationships to look into more:**

- Travel time is inversely proportional to study time.
- Number of failures is positively correlated to travel time; negatively correlated with study time.

**Features not in the correlation heatmap: (Potential 3rd Degrees of Comparison)** 

- All factor features, including but not limited to: parental, financial, and social details.

___

## Shikyna - School & Demographics

## Shikyna - Family Background

## Thomas - Academic Support & Study Habits

## Thomas - Activities and Social Life

## Lauren - Health & Lifestyle

## Lauren - Academic Performance

___

## Conclusions

### Limitations:

### Future Steps:

___

## References:

> Shamim, A. (n.d.). Math-Students Performance Data [Data set]. Kaggle. https://www.kaggle.com/datasets/adilshamim8/math-students/data

> P. Cortez and A. Silva. Using Data Mining to Predict Secondary School Student Performance. In A. Brito and J. Teixeira (Eds.), Proceedings of 5th FUture BUsiness TEChnology Conference (FUBUTEC 2008), pp. 5-12, Porto, Portugal, April 2008, EUROSIS, ISBN 978-9077381-39-7.